<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Weight Control</title>
        <link rel="stylesheet" href="/styles.css">
        <script>
            // ฟังก์ชันสำหรับอัปเดตวันที่และเวลา
            function updateDateTime() {
                const now = new Date(); // วันที่และเวลาปัจจุบัน
                const options = { year: '2-digit', month: '2-digit', day: '2-digit' }; // รูปแบบวันที่
                const formattedDate = now.toLocaleDateString('en-GB', options); // แปลงวันที่
                const formattedTime = now.toLocaleTimeString('en-GB'); // แปลงเวลา
                // อัปเดตข้อความใน <p> ของ Sidebar
                document.getElementById('current-date-time').textContent = `${formattedDate} | ${formattedTime}`;
            }
            // เรียกฟังก์ชันอัปเดตทุกวินาที
            setInterval(updateDateTime, 1000);
                // Event listener for Add User button
                document.getElementById("addUserBtn").addEventListener("click", function() {
                // Redirect to Add User page
                window.location.href = 'add_user_page.html'; // Replace with your actual page path
            });
        </script>
            <style>
            /* รีเซ็ตค่าเบื้องต้น */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Arial', sans-serif;
    background-color: #ffffff;
    color: #333;
    margin: 0;
    padding: 0;
}

.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 20px;
    background-color: #ff9999;
    border-radius: 10px;
    margin-bottom: 20px;
}

.container {
    display: flex;
    gap: 20px;
    justify-content: center;
    align-items: flex-start;
    height: 100vh;
}
.main-container {
    display: flex;
    align-items: flex-start; 
    gap: 20px; 
    margin: 20p
}

.table-container {
    flex: 3; 
    padding: 10px;
    border: 2px solid #f36c6c; 
    border-radius: 8px;
    background-color: #fff5f5; 
    font-family: Arial, sans-serif;
    height: 280px;
}

.check-weight-section {
    flex: 1;
    padding: 10px;
    border: 2px solid #4caf50; 
    border-radius: 8px;
    background-color: #f5fff5; 
}

.sidebar {
    background-color: #ffffff;
    width: 280px;
    padding: 20px;
    box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
    text-align: center;
}

.sidebar h1 {
    font-size: 60px;
    font-weight: bold;
    color: #333333;
    margin-bottom: 30px;
    text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6); 
}

#current-date-time {
    font-size: 20px;
    font-weight: bold;
    margin-bottom: 10px;
    color: #0c0c0c;
}

.sidebar .avatar-group {
    display: flex;
    justify-content: space-between; 
    margin: 20px 10px;
}

.avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: #ddd;
    border: 2px solid #bbb;
    object-fit: cover;
    border-color: #007bff; 
    box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
}

.code-id-form {
    width: 100%;
    background-color: #e7eaff;
    padding: 10px;
    border-radius: 8px;
    color: #333;
    text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6);
    outline: none; 
}

.code-id-form label{
    font-size: 16px;
    margin-left: -23%;
}

.code-id-form input {
    background-color: #e7eaff;
    width: 100px;
    height: 30px;
    border: none !important;
    outline: none !important;
}

.code-id-form input[type="text"]{
    font-size: 18px;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6);
}

.percent-section .radio-group {
    display: flex;
    flex-direction: column;
}
.line-packing {
    display: grid; 
    flex-direction: column;
    grid-template-columns: 1fr 1fr;
    gap: 10px; 
    margin: 10px 0; 
    background-color: #fef6c9; 
    padding: 10px;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); 
    border: 1px solid #ccc;
    align-items: flex-start;
}
.line-options {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    width: 200px;
}

.line-options label {
    width: 90px; 
    margin-bottom: 5px;
}
.line-packing h3 {
    grid-column: span 2; 
    text-align: center;
    margin-bottom: 10px;
    font-size: 26px;
    color: #333;
    font-weight: bold;
    text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6); 
}

.line-packing label {
    display: flex;
    align-items: center;
    font-size: 14px;
    background-color: #fff; 
    padding: 5px;
    border-radius: 5px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    margin-right: 15px;
    font-weight: normal;
}

.line-packing input {
    margin-right: 10px; 
}

/* กรอบของ Control */
.control-buttons {
    border-radius: 10px;
    width: 240px; 
    margin: 20px auto; 
    background-color: #e0f7fa; 
    padding: 10px; 
    text-align: center; 
    box-sizing: border-box; 
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); 
}
.control-buttons h3 {
    color: rgb(78, 75, 75); 
    margin: 10px; 
    font-size: 26px; 
    text-align: center; 
    text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6); 
}

.control-buttons button {
    background-color: #4caf50; 
    color: white;
    border: none; 
    border-radius: 5px; 
    padding: 10px; 
    margin: 5px 0; 
    font-size: 14px;
    cursor: pointer; 
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); 
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
    width: 100%; 
}
.control-buttons button:hover {
    background-color: #45a049;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

.button-container {
    display: flex;
    justify-content: space-between; 
    gap: 10px; 
}

.left-buttons {
    display: flex;
    flex-direction: column; 
    gap: 5px; 
    width: 45%; 
}

.center-buttons {
    display: flex;
    flex-direction: column; 
    gap: 5px; 
    width: 50%; 
}

/* Main Content */
.main-content {
    flex: 1;
    padding: 10px;
    background-color: #f0f2f5;
    display: flex;
    flex-direction: column;
    gap: 10px; 
    height: 100%;
}

.action-section,
.part-action {
    background-color: #f5a29e; 
    border-radius: 10px; 
    padding: 20px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

.action-section {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: 10px;
    background-color: #f0a19c;
    border-radius: 8px;
    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
}

.action-circles {
    display: flex;
    align-items: center;
    gap: 5px;
}

.right-buttons {
    display: flex;
    align-items: center;
    gap: 15px;
    background-color: #f0a19c;
    flex-wrap: nowrap;
    overflow-x: auto;
}

.right-buttons label {
    font-size: 14px;
    white-space: nowrap;
}

.right-buttons input {
    padding: 5px;
    border: 1px solid #ccc;
    border-radius: 4px;
    outline: none;
    min-width: 100px;
}

.Weight-of-standard {
    width: 100%;
    padding: 10px;
    border-radius: 8px;
    display: flex;
    justify-content: left;
    align-items: left;
    font-weight: bold;
    color: #333;
}

.Weight-of-standard label {
    font-weight: bold;
    color: #333;
    margin-right: 10px; 
}

.Weight-of-standard input {
    flex: 1; 
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 5px;
    outline: none; 
    font-size: 14px;
}

.Weight-of-standard input:focus {
    border-color: #4caf50; 
    box-shadow: 0 0 5px rgba(76, 175, 80, 0.5); 
}


.circle {
    position: relative;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background-color: #ccc;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s ease;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); 
}

.circle:nth-child(1) {
    background-color: #ff6b6b; 
}

.circle:nth-child(2) {
    background-color: #ffd700;
}

.circle:nth-child(3) {
    background-color: #4caf50;
}

.circle:hover {
    background-color: #2196f3; 
    cursor: pointer;
}

.circle-text {
    position: absolute;
    font-size: 20px;
    font-weight: bold;
    color: #fff;
    text-align: center;
}

.action-text {
    display: flex;
    font-size: 20px;
    font-weight: bold;
    color: #333;
    align-items: center;
}
.part-no {
    display: flex;
    align-items: center;
    gap: 10px; 
}

.part-no label {
    font-size: 20px;
    color: #333;
    font-weight: bold;
}

.part-no input {
    padding: 5px 10px;
    font-size: 14px;
    border: 1px solid #ccc;
    border-radius: 4px;
    width: 200px;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
}

.part-no input:focus {
    outline: none;
    border-color: #007bff; 
    box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
}

.form-grid {
    display: grid;
    align-items: center;
    justify-content: space-between;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
    width: 100%;
}

.form-group {
    display: flex;
    align-items: center;
    gap: 10px;
}
label {
    font-weight: bold; 
    font-size: 14px;
    white-space: nowrap; 
}
input[type="text"] {
    flex: 1;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 14px;
}
.form-group label {
    font-weight: bold;
    padding: 8px;
    margin-bottom: 5px;
    background-color: #e7eaff;
    border-radius: 5px; 
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); 
}

.form-group input {
    padding: 10px;
    border-radius: 5px; 
    width: 100%;
    box-sizing: border-box;
    font-size: 14px; 
}

.form-group input:focus {
    border-color: #007BFF; 
    outline: none;
    box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
}
.radio-group {
    display: flex;
    flex-direction: column;
}
.radio-group label {
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 14px;
    background-color: #fff; 
    padding: 5px;
    border-radius: 5px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

#edit-btn {
    background-color: #4CAF50; /* สีเขียว */
    color: white;
}

#edit-btn:hover {
    background-color: #45a049;
}

#delete-btn {
    background-color: #f44336; /* สีแดง */
    color: white;
}

#delete-btn:hover {
    background-color: #e53935;
}

.detail-part {
    padding: 15px;
    border-radius: 10px; 
    background-color: #f9f9f9; 
}
.data-table {
    width: 100%;
    border-collapse: separate;
    margin-bottom: 10px;
    margin-top: 10px;
    font-size: 16px;
    text-align: left;
}

.data-table th, .data-table td {
    border: 1px solid #ddd;
    padding: 10px;
    text-align: center;
    background-color: #f8fff0; 
    border: 2px solid #92c47c; 
    border-radius: 8px; 
    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1); 
    font-size: 18px;
}

.data-table th {
    background-color: #f8f8f8;
    color: #000000;
    text-align: center;
}
.data-table tbody tr:nth-child(odd) {
    background-color: #f2f2f2;
}

.data-table tbody tr:nth-child(even) {
    background-color: #fff;
}

.data-table th[colspan="3"] {
    background-color: #92c47c;
    color: white;
    padding: 10px;
}

.data-table td:nth-last-child(-n+3) {
    background-color: #f8fff0; 
    border: 2px solid #92c47c; 
    border-radius: 8px; 
    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1); 
    font-size: 18px;
}


button {
    padding: 8px 12px;
    margin: 0 5px;
    border: none;
    border-radius: 5px;
    font-size: 12px;
    cursor: pointer;
    transition: background-color 0.3s, color 0.3s;
    pointer-events: auto;
}

.details {
    display: flex;
    justify-content: space-between;
    margin-bottom: 20px;
}

.section-header {
    font-size: 1.2em;
    font-weight: bold;
    text-align: left;
    margin-bottom: 5px;
    color: #1c0edd;
    border-left: 5px solid #db3c3c;
    padding-left: 5px;
}

.Detail-Weight-Box,
.Detail-Weight-Part {
    display: grid;
    padding: 10px 0 0 10px; 
    margin: 5px 0; 
}

.Detail-Material {
    border: 1px solid #000; 
    border-radius: 5px; 
    padding: 10px;
    width: 300px; 
    max-height: 400px; 
    background-color: #f0f8ff; 
}

.Detail-Weight-Box div {
    margin: 5px 0; 
}

.Detail-Weight-Part div {
    margin: 5px 0; 
}

.Detail-Material div {
    margin: 5px 0; 
}

.Detail-Weight-Box input,
.Detail-Weight-Part input{
    width: 95px;
    height: 40px;
    font-size: 14px;
    border: 1px solid #33ddb3;
    border-radius: 5px;
}

.Detail-Weight-Box input:focus,
.Detail-Weight-Part input:focus,
.Detail-Material input:focus {
    outline: none;
    border-color: #007bff; 
    box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
}

.green-box {
    border-radius: 10px;
    width: 50%; 
    box-sizing: border-box;
}

.yellow-box {
    width: 50%; 
    border-radius: 10px;
    box-sizing: border-box;
}

.blue-box {
    width: 50%; 
    border-radius: 10px;
    box-sizing: border-box;
}

.green-box {
    background-color: #90ee90;
}

.yellow-box {
    background-color: #ffff80;
}

.blue-box {
    background-color: #007bff;
    color: white; 
}

input[type="text"] {
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    text-align: left;
    font-size: 14px;
}

.Detail-Meterial{
    background-color: #007bff;
    display: grid;
    padding: 10px 0 0 10px; 
    margin: 5px 0;
}

#logoutContainer {
    text-align: center; 
    margin-bottom: 10px; 
}

#logoutButton {
    padding: 10px 20px;
    font-size: 16px;
    background-color: #007bff; 
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
}

#logoutButton:hover {
    background-color: #0056b3;
}

footer {
    background-color: #333; 
    color: white; 
    text-align: center; 
    font-size: 14px;
    padding: 10px 0; 
    width: 100%; 
    position: fixed; 
    bottom: 0; 
    left: 0; 
    z-index: 999; 
    box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.2); 
}

.scrollable-box {
    border: 2px solid #007bff; 
    border-radius: 5px;       
    padding: 10px;            
    background-color: #f9f9f9; 
    max-height: 500px;        
    overflow-y: auto;         
}

.list-box {
    width: 100%;
    height: auto;           
    font-size: 16px;
    border: none;            
    outline: none;           
    background: none;        
}

select {
    width: 100%; 
    height: 100%; 
    border: none; 
    outline: none; 
    background-color: inherit; 
}

.logout-container {
    text-align: center;
    margin-bottom: 50px;
    margin-left: -320px;
}

.listbox-wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    width: 75%;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    background: #f9f9f9;
    font-size: 14px;
}

.listbox {
    width: 92%; 
    height: 90%;
    font-size: 20px;
    font-family: 'Courier New', Courier, monospace;
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 4px;
    box-shadow: 1px 2px 5px rgba(0, 0, 0, 0.1);
    background-color: transparent;
    box-sizing: border-box;
    display: grid; 
    grid-template-rows: repeat(9, auto);
    grid-gap: 5px;
}

#actions {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    margin-left: 1030px;
    margin-top: -190px;
}

#actions button {
    margin-bottom: 10px; 
    display: flex;
    font-size: 16px;
}

.listbox option:first-child {
    background-color: #c9b5b5;
    font-weight: bold;
    color: #0a0a0a;
    position: sticky;
    top: 0;
}

.listbox option {
    display: grid;
    text-align: left;
    margin-bottom: 5px;
    align-items: center; 
    letter-spacing: 2px;
    white-space: nowrap;
    padding-left: 15px;
    padding-right: 15px;
}
        </style>
    </head>
    <body>
        <!-- ส่วนหลักของเว็บ -->
        <div class="container">
            <!-- Sidebar -->
            <div class="sidebar">
                <h1>Weight</h1>
                <!-- วันที่และเวลาจะถูกอัปเดตที่นี่ -->
                <p id="current-date-time">Loading...</p>
                <div class="avatar-group">
                    <img class="avatar" alt="Cute Avatar">
                    <img class="avatar" alt="Cute Avatar">
                    <img class="avatar" alt="Cute Avatar">
                    <img class="avatar" alt="Cute Avatar">
                </div>
                <div class="code-id-form">
                    <label for="codeInput">CODE ID :</label>
                    <input type="text" id="codeId" name="codeId" readonly>
                    <div>
                        <label for="codeInput">STATUS. :</label>
                        <input type="text" id="Usertype" name="Usertype" readonly>
                    </div>
                </div>
                <div class="line-packing">
                    <h3>LINE Packing</h3>
                    <label><input type="radio" name="line"> TRIM</label>
                    <label><input type="radio" name="line"> SMALL TRIM</label>
                    <label><input type="radio" name="line"> PBP</label>
                    <label><input type="radio" name="line"> SMALL PANAL</label>
                    <label><input type="radio" name="line"> CH</label>
                    <label><input type="radio" name="line"> OTHER</label>
                </div>
                <div class="control-buttons">
                    <h3>CONTROL</h3>
                    <div class="button-container">
                        <!-- ปุ่ม 3 ตัวแรกชิดซ้าย -->
                        <div class="left-buttons">
                            <button id="newButton">New</button>
                            <button id="clearButton">Clear</button>
                            <button id="addUserButton" style="display:none;" disabled>Add User</button>
                        </div>
                        <!-- ปุ่ม 3 ตัวกลาง -->
                        <div class="center-buttons">
                            <button id="updateButton">Update</button>
                            <button id="queueOrderButton">Queue Order</button>
                            <button id="reportButton">Report</button>
                        </div>
                    </div>                    
                </div>
            </div>
            <!-- ส่วน Action และตารางข้อมูล -->
            <div class="main-content">
                <div class="action-section">
                    <div class="action-circles">
                        <div class="circle"></div>
                        <div class="circle"></div>
                        <div class="circle"></div>
                        <div class="action-text">Action</div>
                    </div>
                    <div class="part-no">
                        <label for="partNoInput">Part No :</label>
                        <input type="text" id="partNoInput" placeholder="Enter Part No." />
                    </div>
                </div>
                <div class="part-action">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="Part-action1">Part No :</label>
                            <input type="text" id="Part-action1" placeholder="Enter Part No." readonly>
                        </div>
                        <div class="form-group">
                            <label for="Part-action2">Control No :</label>
                            <input type="text" id="Part-action2" placeholder="Enter Control No." readonly>
                        </div>
                        <div class="form-group">
                            <label for="Part-action3">Part Q'TY :</label>
                            <input type="text" id="Part-action3" placeholder="Enter Q'TY" readonly>
                        </div>
                        <div class="form-group">
                            <label for="Part-action4">By Piece:</label>
                            <input type="text" id="Part-action4" placeholder="Enter Part by Piece" readonly>
                        </div>
                        <div class="form-group">
                            <label for="Part-action5">Part Name :</label>
                            <input type="text" id="Part-action5" placeholder="Enter Part Name" readonly>
                        </div>
                        <div class="form-group">
                            <label for="Part-action6">Model :</label>
                            <input type="text" id="Part-action6" placeholder="Enter Model" readonly>
                        </div>
                        <div class="form-group">
                            <label>100% :</label>
                            <div class="radio-group">
                                <label><input type="radio" name="hundredPercent" disabled> :Yes</label>
                                <label><input type="radio" name="hundredPercent" disabled> : No</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="Part-action7">Percent :</label>
                            <input type="text" id="Part-action7" placeholder="Enter Percent" readonly>
                            <input type="text" id="Part-action8" placeholder="Enter Percent" readonly>
                        </div>
                    </div>
                    <div class="main-container">
                        <!-- ส่วนที่ 1: Detail Part -->
                        <div class="table-container">
                            <h3 class="section-header">Detail Part</h3>
                            <select class="listbox" size="9" id="listbox">
                                <option value="" disabled selected>No.  | D/C Part No. | Full Part Name. | Model | Control | Total </option>
                            </select>
                            <div id="actions">
                                <button id="edit-btn" onclick="editFunction()">Edit</button>
                                <button id="delete-btn" onclick="deleteFunction()">Delete</button>
                            </div>
                        </div>
                        <!-- ส่วนที่ 2: Check Weight -->
                        <div class="check-weight-section">
                            <h3 class="section-header">Weight</h3>
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Standard</th>
                                        <th>Lower</th>
                                        <th>Upper</th>
                                    </tr>
                                </thead>
                                <tbody id="weight-data">
                                    <tr>
                                        <td id="standard-weight">AUTO</td>
                                        <td id="standard-Lower">AUTO</td>
                                        <td id="standard-Upper">AUTO</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>            
                </div>    
                <div class="container">
                    <div class="Detail-Weight-Box green-box">
                        <h3 class="section-header">Detail Wight (Box)</h3>
                        <div class="input-container">
                            <div>
                                <input type="text" class="box-input" placeholder="BOX1" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX2" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX3" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX4" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX5" oninput="calculateAverage()"/>
                            </div>
                            <div>
                                <input type="text" class="box-input" placeholder="BOX6" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX7" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX8" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX9" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX10" oninput="calculateAverage()"/>
                            </div>
                            <div>
                                <input type="text" class="box-input" placeholder="BOX11" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX12" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX13" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX14" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX15" oninput="calculateAverage()"/>
                            </div>
                            <div>
                                <input type="text" class="box-input" placeholder="BOX16" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX17" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX18" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX19" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX20" oninput="calculateAverage()"/>
                            </div>
                            <div>
                                <input type="text" class="box-input" placeholder="BOX21" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX22" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX23" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX24" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX25" oninput="calculateAverage()"/>
                            </div>
                            <div>
                                <input type="text" class="box-input" placeholder="BOX26" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX27" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX28" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX29" oninput="calculateAverage()"/>
                                <input type="text" class="box-input" placeholder="BOX30" oninput="calculateAverage()"/>
                            </div>
                        </div>
                    </div>
                    <div class="Detail-Weight-Part yellow-box">
                        <h3 class="section-header">Detail Weight (Part)</h3>
                        <div class="input-container">
                            <div>
                                <input type="text" class="box-input1" placeholder="BOX1" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX2" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX3" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX4" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX5" oninput="calculateAverage()"/>
                            </div>
                            <div>
                                <input type="text" class="box-input1" placeholder="BOX6" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX7" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX8" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX9" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX10" oninput="calculateAverage()"/>
                            </div>
                            <div>
                                <input type="text" class="box-input1" placeholder="BOX11" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX12" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX13" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX14" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX15" oninput="calculateAverage()"/>
                            </div>
                            <div>
                                <input type="text" class="box-input1" placeholder="BOX16" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX17" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX18" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX19" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX20" oninput="calculateAverage()"/>
                            </div>
                            <div>
                                <input type="text" class="box-input1" placeholder="BOX21" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX22" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX23" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX24" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX25" oninput="calculateAverage()"/>
                            </div>
                            <div>
                                <input type="text" class="box-input1" placeholder="BOX26" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX27" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX28" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX29" oninput="calculateAverage()"/>
                                <input type="text" class="box-input1" placeholder="BOX30" oninput="calculateAverage()"/>
                            </div>
                        </div> 
                    </div>
                    <div class="Detail-Material blue-box">
                        <h3 class="section-header">Detail Material (BOX)</h3>
                        <div class="input-container">
                            <!-- กรอบสี่เหลี่ยม -->
                            <div class="scrollable-box">
                                <select id="materialList" class="list-box" onchange="handleMaterialSelection()" size="13">
                                    <option value="" disabled selected>Mat Code | Material | Q'TY </option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            <div class="logout-container">
                <a href="bin/login-page/Login.html" id="logoutLink" onclick="return confirm('Are you sure you want to log out?')" style="text-decoration: none;">
                    <button id="logoutButton">Logout</button>
                </a>
            </div>
            </div>                
        </div>
    <script>
    document.addEventListener("DOMContentLoaded", function () {
    const listbox = document.getElementById("listbox");
    const editBtn = document.getElementById("edit-btn");
    const deleteBtn = document.getElementById("delete-btn");

    if (!listbox || !editBtn || !deleteBtn) {
        console.error("Elements not found");
        return;
    }

    // ถ้ายังต้องการให้ปุ่มแสดงเฉพาะเมื่อเลือกข้อมูล
    listbox.addEventListener("change", function () {
        const selectedOption = listbox.options[listbox.selectedIndex];
        
        // เช็คหากตัวเลือกไม่ใช่ตัวแรกที่ไม่สามารถเลือกได้
        if (selectedOption && selectedOption.value !== "กรุณาเลือกข้อมูล" && selectedOption.value !== "") {
            editBtn.disabled = false;
            deleteBtn.disabled = false;
        } else {
            editBtn.disabled = true;
            deleteBtn.disabled = true;
        }
    });
    
    // ฟังก์ชันแก้ไข
    function editFunction() {
        const listbox = document.getElementById("listbox");
        const selectedOption = listbox.options[listbox.selectedIndex];
        if (selectedOption) {
            alert("Editing: " + selectedOption.text);
        }
    }

    // ฟังก์ชันลบ
    function deleteFunction() {
        const listbox = document.getElementById("listbox");
        const selectedOption = listbox.options[listbox.selectedIndex];
        
        // ป้องกันไม่ให้ลบตัวเลือกแรก
        if (selectedOption && selectedOption.value !== "กรุณาเลือกข้อมูล" && selectedOption.value !== "") {
            if (confirm("Delete " + selectedOption.text + "?")) {
                selectedOption.remove();
                // ซ่อนปุ่มเมื่อไม่มีการเลือก
                editBtn.style.display = "none";
                deleteBtn.style.display = "none";
            }
        }
    }
});

document.addEventListener("DOMContentLoaded", function () {
    const loggedInUser = localStorage.getItem("loggedInUser");

    if (loggedInUser) {
        // ดึงข้อมูลผู้ใช้ทั้งหมดจาก localStorage
        const users = JSON.parse(localStorage.getItem("users")) || [];

        // หาผู้ใช้ที่ล็อกอิน
        const user = users.find(u => u.username === loggedInUser);

        // ถ้าหากพบข้อมูลของผู้ใช้ที่ล็อกอิน
        if (user) {
            const userType = user.userType; // รับค่า userType จากข้อมูลผู้ใช้
            const userTypeElement = document.getElementById("Usertype");
            const addUserButton = document.getElementById("addUserButton");

            if (userTypeElement) {
                // แสดงค่า userType (Admin หรือ user) ใน input
                userTypeElement.value = userType;
            }

            if (addUserButton) {
                // ถ้า userType เป็น admin แสดงปุ่ม Add User
                if (userType === "admin") {
                    addUserButton.style.display = "inline-block"; // หรือ "block" ขึ้นอยู่กับ layout
                    addUserButton.disabled = false;
                } else {
                    // ถ้า userType ไม่ใช่ admin ซ่อนปุ่ม Add User
                    addUserButton.style.display = "none";
                    addUserButton.disabled = true;
                }
            }
        } else {
            console.error("ไม่พบข้อมูลของผู้ใช้ในระบบ");
        }

        // แสดง username ใน input codeId
        const codeId = document.getElementById("codeId");
        if (codeId) {
            codeId.value = loggedInUser;
        }
    // } else {
    //     // ถ้าไม่มีการล็อกอิน, redirect ไปที่หน้า Login
    //     window.location.href = "https://god-weight.netlify.app/bin/login-page/Login.html";
    }
});

document.addEventListener('DOMContentLoaded', function () {
    // ดึงปุ่มต่างๆ
    const addUserButton = document.getElementById('addUserButton');
    const queueOrderButton = document.getElementById('queueOrderButton');
    const reportButton = document.getElementById('reportButton');

    // ลิงก์ที่ต้องการ
    const addUserLink = '/Config/Management/index.html';
    const queueOrderLink = 'https://docs.google.com/spreadsheets/d/1NbR0RoXXfwNCd9sfzF3qwYRRJtDfbc2z8N7fkMN_3Ro/edit?gid=180982015#gid=180982015';
    const reportLink = 'https://docs.google.com/forms/d/e/1FAIpQLSe5Vmyua1NSlQ00NdBsE8ECZXtqJCUVgwIRg16CuZlJ3dy9uQ/viewform';

    // เพิ่ม event listener ให้ปุ่ม
    addUserButton.addEventListener('click', function () {
        window.location.href = addUserLink; // เปลี่ยนเส้นทางไปที่ลิงก์ Add User
    });

    queueOrderButton.addEventListener('click', function () {
        window.open(queueOrderLink, '_blank'); // เปิดลิงก์ Queue Order ในแท็บใหม่
    });

    reportButton.addEventListener('click', function () {
        window.open(reportLink, '_blank'); // เปิดลิงก์ Report ในแท็บใหม่
    });
});

let isLocked = true; // สถานะล็อคเริ่มต้น

        document.getElementById("newButton").addEventListener("click", function() {
            let lockFields = ["Part-action1", "Part-action2", "Part-action3", "Part-action5", "Part-action6"];
            let inputs = document.querySelectorAll("input[type='text']");
            let radios = document.querySelectorAll("input[name='hundredPercent']"); // ล็อคเฉพาะ Yes / No

            inputs.forEach(input => {
                if (lockFields.includes(input.id)) {
                    input.readOnly = isLocked; // ล็อคเฉพาะช่องที่กำหนด
                }
            });

            radios.forEach(radio => radio.disabled = isLocked); // ล็อคปุ่ม Yes / No

            isLocked = !isLocked; // สลับสถานะล็อค
        });

window.onload = function() {
    fetchWeightData();
    restrictToAdmin();
};
document.addEventListener("DOMContentLoaded", function () {
    const avatarElements = document.querySelectorAll(".avatar");

    // ฟังก์ชันที่ใช้เรียก DiceBear API สำหรับสร้าง Avatar
    function getRandomAvatar() {
        const styles = ["adventurer", "croodles", "micah"]; // สไตล์การ์ตูนที่น่ารัก
        const randomStyle = styles[Math.floor(Math.random() * styles.length)];
        const seed = Math.random().toString(36).substring(7); // สร้าง seed แบบสุ่ม
        return `https://api.dicebear.com/6.x/${randomStyle}/svg?seed=${seed}`;
    }

    // เปลี่ยน src ของ avatar แต่ละตัว
    avatarElements.forEach(avatar => {
        avatar.src = getRandomAvatar();
    });
});
// ฟังก์ชันคำนวณค่า Part-action8 และค่า Lower, Upper โดยไม่ต้องรอค่า average
function calculatePartAction8AndLimits() {
    const partAction4 = parseFloat(document.getElementById('Part-action4').value); // ค่าน้ำหนักจาก Part-action4

    let partAction8 = 0; // กำหนดค่าเริ่มต้นให้กับ partAction8 (percentage)

    // ตรวจสอบเงื่อนไขการคำนวณ percentage สำหรับ Part-action7
    if (partAction4 < 0.0498) {
        partAction8 = 0.2; // 20%
    } else if (partAction4 > 0.0999) {
        partAction8 = 0.5; // 50%
    } else if (partAction4 >= 0.0498 && partAction4 <= 0.0998) {
        partAction8 = 0.3; // 30%
    }

    // แสดงค่าของ partAction8 ที่ input element 'Part-action8' และเพิ่ม '%' ต่อท้าย
    document.getElementById('Part-action8').value = (partAction8 * 100) + '%';

    // แสดงค่าของ partAction8 ที่ input element 'Part-action7' และเพิ่ม '%' ต่อท้าย
    document.getElementById('Part-action7').value = (partAction8 * partAction4).toFixed(3);

    // คำนวณ Lower และ Upper ตามสูตร
    const standardWeight = parseFloat(document.getElementById('standard-weight').textContent); // ค่าเฉลี่ยจาก standard-weight

    // ตรวจสอบว่า standardWeight และ partAction4 เป็นตัวเลขที่ถูกต้อง
    if (!isNaN(standardWeight) && !isNaN(partAction4) && standardWeight !== 0) {
        // คำนวณ Lower และ Upper ตามสูตร
        const lower = (standardWeight - (partAction8 * partAction4)).toFixed(3);
        const upper = (standardWeight + (partAction8 * partAction4)).toFixed(3);

        // อัปเดตค่า Lower และ Upper
        document.getElementById('standard-Lower').textContent = lower;
        document.getElementById('standard-Upper').textContent = upper;
    } else {
        // รีเซ็ตค่า Lower และ Upper เป็น "AUTO" หากข้อมูลไม่ถูกต้อง
        document.getElementById('standard-Lower').textContent = 'AUTO';
        document.getElementById('standard-Upper').textContent = 'AUTO';
    }
}

// ฟังก์ชันที่เรียกใช้เมื่อมีการคีย์ข้อมูลใน Detail Weight (Part) หรือ Box
document.getElementById('Part-action4').addEventListener('input', function() {
    // เรียกใช้ calculatePartAction8AndLimits ทันทีเมื่อมีการคีย์ข้อมูลใน Part-action4
    calculatePartAction8AndLimits();
});

// ฟังก์ชันคำนวณค่าเฉลี่ยใหม่ (ถ้าต้องการ)
function calculateAverage() {
    const boxInputClass = event.target.classList.contains('box-input') ? '.box-input' : '.box-input1';
    const inputs = document.querySelectorAll(boxInputClass);
    let total = 0;
    let count = 0;

    inputs.forEach(input => {
        const value = parseFloat(input.value); // แปลงค่าที่ป้อนเป็นตัวเลข
        if (!isNaN(value)) { // ตรวจสอบว่าค่าเป็นตัวเลข
            total += value;
            count++;
        }
    });

    // คำนวณค่าเฉลี่ย
    const average = count > 0 ? (total / count).toFixed(3) : 0;

    // อัปเดตค่าเฉลี่ยไปที่ input หรือ td ที่เหมาะสม
    if (boxInputClass === '.box-input') {
        document.getElementById('standard-weight').textContent = `${average}`;
        calculatePartAction8AndLimits(); // คำนวณ Part-action7, Lower, Upper โดยอัตโนมัติ
    } else if (boxInputClass === '.box-input1') {
        document.getElementById('Part-action4').value = average;
        calculatePartAction8AndLimits(); // คำนวณ Part-action7, Lower, Upper โดยอัตโนมัติ
    }
}

// ฟังก์ชันที่เรียกใช้เมื่อมีการคีย์ข้อมูลใน Box1, Box2, Box3 เป็นต้น
document.querySelectorAll('.box-input').forEach(input => {
    input.addEventListener('input', function() {
        calculateAverage(); // คำนวณค่าเฉลี่ยทุกครั้งที่มีการเปลี่ยนแปลงในช่องข้อมูล Box
    });
});
    </script>
        <script src="/dashboard.js" defer></script>
        <script src="/app.js" defer></script>
        <script src="/avatar.js" defer></script>
    </body>
    <footer>
        <p>&copy; 2025 SYSTEM Rev.1 All Rights Reserved.</p>
    </footer>
</html>
